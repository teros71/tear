import math
import json
import copy
import itertools
import shape
import default
import goldenratio
import tear
import random
import polygon
import value
import algo


formTable = dict()
algorithms = dict()

man = "22.574 241.670, 22.573 237.260, 21.007 229.560, 19.525 207.020, 18.043 187.610, 15.842 186.440, 16.049 154.770, 16.145 120.480, 11.556 113.190, 3.437 102.000, 0.364 89.800, 1.490 76.109, 6.639 47.671, 11.330 45.586, 30.796 32.788, 29.758 26.686, 30.623 8.425, 44.112 2.197, 54.637 7.163, 53.092 21.952, 52.038 28.059, 58.366 39.609, 70.450 46.217, 75.082 58.513, 82.259 82.699, 82.080 93.109, 80.506 102.090, 78.053 107.800, 76.034 111.990, 71.913 118.170, 69.034 119.660, 69.034 132.690, 69.983 152.420, 71.394 171.990, 69.601 186.990, 65.920 210.910, 64.978 223.180, 63.762 228.770, 67.898 236.340, 59.705 242.610, 47.375 242.610, 48.381 237.060, 47.977 226.310, 46.551 205.410, 45.421 188.600, 40.921 188.360, 37.534 189.230, 36.746 202.170, 36.981 221.060, 36.576 229.190, 34.841 236.740, 34.534 242.110, 28.873 242.410, 22.574 241.670"


dancer = "254.375 641.057, 243.246 641.126, 235.905 638.999, 235.757 629.063, 236.193 612.796, 236.142 602.937, 237.120 599.359, 238.334 588.826, 238.315 583.770, 240.024 578.262, 240.632 564.063, 239.115 554.045, 237.551 548.576, 235.150 529.375, 234.439 523.125, 234.452 504.531, 234.304 498.346, 225.254 497.853, 219.554 496.123, 216.043 494.986, 213.644 494.313, 213.088 495.047, 210.250 495.743, 206.759 495.196, 205.079 494.688, 202.187 493.594, 197.387 492.500, 191.645 491.382, 183.534 487.165, 181.082 485.625, 177.401 482.422, 170.121 476.348, 167.303 474.004, 164.027 470.625, 161.038 467.446, 155.937 461.040, 149.080 451.875, 144.705 445.672, 141.959 441.922, 139.998 439.178, 137.726 435.394, 133.612 428.662, 129.215 420.267, 124.897 412.344, 122.023 407.031, 115.625 394.844, 110.591 380.938, 108.414 374.518, 107.503 371.237, 105.743 360.646, 104.914 357.365, 103.135 351.835, 102.637 349.845, 101.683 344.416, 100.619 338.281, 98.014 331.329, 97.150 327.735, 96.220 323.692, 95.625 321.093, 95.280 319.315, 94.692 317.069, 93.185 310.625, 91.583 302.188, 90.906 295.156, 91.563 277.500, 92.183 272.948, 92.944 268.729, 93.743 264.338, 94.561 259.651, 96.566 249.531, 98.748 234.375, 101.579 223.982, 102.667 220.017, 98.623 217.517, 81.327 202.723, 71.597 185.259, 66.201 174.004, 60.938 165.899, 50.289 153.769, 46.849 152.882, 44.105 152.382, 42.821 151.963, 40.233 151.532, 36.935 150.606, 32.548 146.460, 30.764 135.769, 32.242 129.466, 32.656 126.593, 31.295 121.484, 29.676 118.750, 29.205 118.047, 28.266 116.563, 27.229 114.958, 24.677 113.255, 19.733 109.451, 16.661 105.659, 14.224 103.776, 8.153 97.496, 9.284 93.267, 13.708 93.996, 20.603 96.253, 24.190 96.722, 27.003 97.192, 33.914 99.880, 43.885 106.142, 52.699 113.821, 56.588 118.596, 60.235 123.293, 64.190 128.434, 67.847 133.237, 74.889 142.836, 78.906 147.482, 89.287 157.388, 121.431 189.198, 124.415 192.792, 126.073 194.737, 127.595 196.222, 132.656 199.520, 139.019 203.816, 145.018 207.822, 146.780 209.528, 158.400 217.224, 167.775 225.181, 175.469 231.504, 180.156 233.744, 185.156 236.907, 189.780 241.454, 191.254 243.507, 197.966 247.508, 200.664 249.984, 208.125 255.804, 211.320 257.741, 214.086 257.988, 217.187 256.519, 217.656 254.483, 218.125 252.452, 218.584 250.444, 220.926 231.719, 220.509 221.696, 219.518 205.937, 227.503 188.746, 229.301 185.983, 230.529 183.697, 231.562 181.287, 232.217 180.297, 232.871 179.947, 232.197 179.229, 231.933 174.646, 231.848 140.469, 231.249 135.625, 230.405 129.844, 231.727 76.836, 232.187 70.035, 238.418 57.187, 256.243 40.156, 270.444 27.844, 274.714 24.250, 278.084 21.406, 281.558 18.594, 284.839 15.943, 288.641 12.429, 296.005 9.048, 300.772 9.050, 305.049 10.153, 310.158 11.894, 317.797 14.819, 325.781 18.883, 329.640 21.858, 334.865 28.125, 337.168 32.263, 338.069 34.763, 334.725 36.415, 329.816 32.004, 328.180 30.764, 330.133 33.748, 332.187 36.437, 331.347 38.211, 330.872 41.167, 329.595 44.941, 326.043 43.730, 324.582 42.977, 322.858 43.438, 318.247 38.326, 316.745 35.381, 315.704 35.939, 314.040 36.335, 309.498 32.135, 307.563 30.345, 300.983 25.973, 297.250 25.437, 290.083 32.972, 285.864 38.077, 283.205 41.468, 280.690 44.797, 278.666 47.500, 275.400 51.780, 270.625 58.115, 265.156 65.308, 262.677 68.400, 260.005 71.563, 255.316 90.000, 254.678 103.994, 254.455 111.182, 257.913 121.621, 262.191 141.129, 264.480 149.349, 266.360 151.956, 267.429 152.277, 273.141 146.250, 276.082 141.986, 278.444 135.469, 279.841 129.219, 280.446 123.671, 279.968 121.387, 279.688 121.700, 278.188 121.813, 278.594 118.125, 279.375 114.681, 281.224 106.719, 283.288 99.863, 284.357 96.894, 285.449 93.906, 288.969 87.847, 291.270 84.648, 293.191 82.779, 295.387 81.223, 297.359 80.036, 299.718 78.726, 303.388 77.478, 307.522 76.849, 311.741 77.111, 322.708 81.242, 329.909 85.864, 335.001 94.219, 335.618 96.406, 336.777 101.650, 333.138 115.461, 332.811 116.659, 331.410 120.622, 329.050 126.977, 324.198 137.344, 321.947 140.938, 320.910 148.438, 319.929 156.509, 318.472 159.261, 317.813 160.071, 317.370 160.913, 317.683 163.651, 318.125 166.718, 317.813 170.603, 316.355 178.721, 315.531 180.411, 317.082 181.846, 320.020 184.317, 332.171 192.361, 342.813 200.196, 350.019 210.171, 352.512 214.531, 362.287 223.871, 370.528 231.198, 382.554 241.907, 385.120 245.247, 388.307 249.329, 390.796 252.972, 390.946 256.045, 389.688 261.774, 382.946 278.600, 381.573 281.673, 378.223 286.726, 372.495 290.071, 370.000 291.299, 365.313 293.072, 355.156 295.478, 349.973 296.645, 346.977 297.421, 342.405 296.374, 335.558 294.454, 333.180 292.708, 333.604 291.034, 331.719 289.190, 327.544 285.825, 334.531 281.864, 348.125 283.102, 351.668 280.688, 354.885 276.925, 356.734 274.545, 357.012 272.659, 351.793 272.193, 342.980 267.136, 346.197 265.625, 357.091 263.028, 362.350 262.012, 365.545 264.071, 367.822 265.932, 367.512 256.799, 367.124 254.692, 363.015 252.451, 355.532 248.152, 338.752 237.474, 332.659 232.150, 321.980 223.421, 315.021 225.104, 310.095 227.046, 306.875 229.279, 304.844 234.809, 302.813 240.329, 302.402 241.225, 301.480 242.969, 295.506 255.580, 292.813 264.090, 291.553 267.130, 290.271 272.082, 288.744 282.812, 287.448 296.549, 287.481 298.505, 287.647 308.955, 288.918 342.812, 288.942 359.531, 290.106 371.406, 296.872 464.687, 298.063 494.378, 291.929 496.113, 286.562 496.886, 281.562 497.495, 273.281 499.512, 271.797 500.480, 270.936 503.393, 269.669 518.594, 266.207 535.616, 263.426 549.835, 261.874 560.625, 260.193 577.031, 260.903 585.373, 261.265 590.361, 259.971 594.119, 259.074 598.975, 260.456 606.875, 262.482 616.890, 264.347 624.741, 265.625 629.245, 266.901 633.333, 267.788 636.981, 258.984 640.385, 255.625 641.156, 255.000 641.562, 254.375 641.057"

ukraine = "931.506 374.703, 931.506 374.050, 930.853 360.335, 923.015 358.376, 921.709 334.211, 941.302 316.578, 939.343 308.087, 939.996 299.597, 989.631 279.351, 987.019 269.555, 983.753 266.289, 987.672 263.024, 984.406 257.799, 985.059 246.696, 987.019 242.778, 977.875 242.125, 979.182 234.941, 969.385 221.879, 956.976 221.226, 967.426 200.980, 969.385 190.530, 947.833 192.489, 956.323 180.081, 956.323 172.897, 958.283 151.345, 948.486 144.814, 947.833 131.752, 933.465 143.507, 915.178 134.364, 898.851 138.283, 892.320 131.752, 881.870 142.854, 868.155 139.589, 862.278 134.364, 853.787 140.895, 840.725 135.670, 831.582 155.263, 821.786 146.773, 811.989 146.120, 786.518 123.914, 751.251 158.528, 737.536 154.610, 732.965 159.835, 723.168 152.651, 693.126 165.713, 681.370 157.875, 675.492 148.079, 678.758 143.507, 661.124 123.914, 663.083 117.384, 660.471 116.730, 653.287 119.343, 645.450 108.893, 642.184 108.240, 623.245 118.037, 619.979 114.771, 606.917 116.730, 598.427 119.996, 600.386 116.077, 599.733 110.199, 593.202 107.587, 591.243 96.484, 581.446 87.341, 595.161 74.932, 573.609 64.483, 568.385 57.299, 567.731 50.115, 558.588 45.543, 548.139 37.053, 535.077 47.502, 531.811 42.931, 506.993 61.870, 478.257 63.830, 475.645 89.300, 461.930 96.484, 458.664 91.260, 454.093 93.219, 432.541 98.444, 428.622 105.628, 414.907 106.934, 404.458 132.405, 402.498 154.610, 412.295 182.693, 388.130 168.978, 372.456 178.121, 362.006 174.856, 348.291 191.183, 332.617 171.590, 317.596 183.346, 316.290 195.755, 305.840 184.652, 294.084 191.183, 286.247 181.387, 279.716 191.836, 266.654 191.183, 263.389 204.898, 259.470 202.939, 248.368 194.449, 235.959 200.327, 236.612 194.449, 231.387 195.755, 225.509 187.918, 173.915 191.836, 169.343 188.571, 141.260 195.102, 131.464 195.102, 121.667 194.449, 99.462 206.858, 82.481 210.123, 64.195 240.819, 60.929 236.900, 49.173 237.553, 46.561 248.656, 45.908 249.309, 45.908 248.656, 51.786 255.840, 51.786 267.596, 87.053 300.250, 77.257 308.087, 90.972 325.721, 70.073 344.661, 26.968 428.257, 36.765 447.197, 34.805 457.646, 47.214 470.055, 43.949 467.443, 34.152 468.096, 27.621 466.790, 23.050 488.995, 21.090 502.057, 12.600 512.506, 14.559 526.874, 30.234 538.630, 36.765 537.324, 45.255 549.080, 52.439 545.814, 57.664 547.774, 63.542 558.876, 73.991 545.161, 75.950 541.896, 96.196 549.733, 99.462 545.814, 139.954 548.427, 155.628 540.589, 180.446 555.611, 196.120 537.977, 247.061 517.731, 251.633 498.791, 265.348 490.301, 266.001 488.342, 268.614 482.464, 268.614 481.158, 269.267 478.545, 275.798 479.852, 273.838 475.933, 299.962 471.361, 326.086 456.993, 346.985 464.830, 348.944 470.708, 363.312 465.483, 363.312 473.974, 369.190 470.708, 373.109 478.545, 377.027 468.749, 405.111 482.464, 412.948 475.280, 422.091 513.159, 442.990 529.487, 450.174 522.956, 455.399 542.549, 459.318 553.651, 483.482 560.182, 490.013 580.428, 486.748 583.041, 503.075 590.225, 491.319 596.103, 490.013 600.021, 478.257 590.878, 474.339 602.634, 463.236 595.449, 459.971 601.980, 457.358 598.715, 452.787 608.511, 450.174 607.858, 451.480 604.593, 448.215 595.449, 436.459 604.593, 444.949 625.492, 442.337 635.288, 444.949 643.779, 436.459 649.003, 436.459 660.759, 427.969 668.596, 427.316 692.761, 417.519 692.761, 418.172 692.761, 414.907 697.332, 412.948 700.598, 417.519 701.251, 421.438 709.088, 451.480 709.741, 448.868 703.210, 461.277 699.945, 477.604 684.924, 502.422 697.332, 501.116 675.780, 500.463 678.393, 499.156 675.780, 493.278 677.740, 489.360 656.187, 487.401 648.350, 497.850 663.371, 504.381 645.085, 506.993 647.044, 505.687 639.860, 516.137 639.860, 522.015 633.982, 537.036 594.796, 533.770 586.959, 539.648 582.388, 536.383 568.019, 570.344 551.692, 568.385 536.018, 574.262 549.080, 582.099 545.161, 593.202 544.508, 591.243 528.834, 593.202 515.772, 597.121 516.425, 639.572 528.181, 631.082 535.365, 626.510 547.120, 591.896 551.039, 576.875 552.998, 589.937 562.142, 590.590 556.264, 603.652 556.264, 610.836 556.917, 600.386 572.591, 628.469 570.632, 630.429 576.510, 646.103 577.163, 658.512 567.366, 672.880 564.101, 672.880 559.529, 678.105 560.835, 682.676 551.692, 698.351 561.489, 704.881 549.733, 711.412 567.366, 719.903 564.754, 695.738 589.572, 689.860 588.265, 692.473 592.184, 678.105 604.593, 674.839 609.818, 676.798 612.430, 661.124 632.676, 687.901 628.104, 711.412 638.554, 729.699 637.248, 735.577 663.371, 742.761 676.433, 732.312 682.964, 747.333 686.883, 757.782 692.761, 804.805 636.595, 817.867 630.064, 825.704 632.023, 830.929 614.389, 839.419 606.552, 837.460 605.899, 841.378 595.449, 853.134 594.143, 863.584 599.368, 873.380 590.878, 883.830 589.572, 887.748 562.142, 893.626 547.774, 866.196 553.651, 861.624 566.060, 853.134 564.754, 849.869 560.182, 846.603 573.897, 835.501 582.388, 781.947 542.549, 772.150 522.956, 784.559 529.487, 801.540 487.689, 808.724 481.811, 815.255 467.443, 838.766 459.606, 840.072 457.646, 854.440 438.053, 866.849 445.237, 867.502 429.563, 883.177 411.277, 890.361 414.542, 896.239 391.684, 924.322 379.928, 928.240 384.500, 931.506 374.703"

ukraine1 = "923.015 358.376, 921.709 334.211, 941.302 316.578, 939.343 308.087, 939.996 299.597, 989.631 279.351, 987.019 269.555, 983.753 266.289, 987.672 263.024, 984.406 257.799, 985.059 246.696, 987.019 242.778, 977.875 242.125, 979.182 234.941, 969.385 221.879, 956.976 221.226, 967.426 200.980, 969.385 190.530, 947.833 192.489, 956.323 180.081, 956.323 172.897, 958.283 151.345, 948.486 144.814, 947.833 131.752, 933.465 143.507, 915.178 134.364, 898.851 138.283, 892.320 131.752, 881.870 142.854, 868.155 139.589, 862.278 134.364, 853.787 140.895, 840.725 135.670, 831.582 155.263, 821.786 146.773, 811.989 146.120, 786.518 123.914, 751.251 158.528, 737.536 154.610, 732.965 159.835, 723.168 152.651, 693.126 165.713, 681.370 157.875, 675.492 148.079, 678.758 143.507, 661.124 123.914, 663.083 117.384, 660.471 116.730, 653.287 119.343, 645.450 108.893, 642.184 108.240, 623.245 118.037, 619.979 114.771, 606.917 116.730, 598.427 119.996, 600.386 116.077, 599.733 110.199, 593.202 107.587, 591.243 96.484, 581.446 87.341, 595.161 74.932, 573.609 64.483, 568.385 57.299, 567.731 50.115, 558.588 45.543, 548.139 37.053, 535.077 47.502, 531.811 42.931, 506.993 61.870, 478.257 63.830, 475.645 89.300, 461.930 96.484, 458.664 91.260, 454.093 93.219, 432.541 98.444, 428.622 105.628, 414.907 106.934, 404.458 132.405, 402.498 154.610, 412.295 182.693, 388.130 168.978, 372.456 178.121, 362.006 174.856, 348.291 191.183, 332.617 171.590, 317.596 183.346, 316.290 195.755, 305.840 184.652, 294.084 191.183, 286.247 181.387, 279.716 191.836, 266.654 191.183, 263.389 204.898, 259.470 202.939, 248.368 194.449, 235.959 200.327, 236.612 194.449, 231.387 195.755, 225.509 187.918, 173.915 191.836, 169.343 188.571, 141.260 195.102, 131.464 195.102, 121.667 194.449, 99.462 206.858, 82.481 210.123, 64.195 240.819, 60.929 236.900, 49.173 237.553, 46.561 248.656, 45.908 249.309, 45.908 248.656, 51.786 255.840, 51.786 267.596, 87.053 300.250, 77.257 308.087, 90.972 325.721, 70.073 344.661, 495.0 351.0"

ukraine2 = "495.0 351.0, 70.073 344.661, 26.968 428.257, 36.765 447.197, 34.805 457.646, 47.214 470.055, 43.949 467.443, 34.152 468.096, 27.621 466.790, 23.050 488.995, 21.090 502.057, 12.600 512.506, 14.559 526.874, 30.234 538.630, 36.765 537.324, 45.255 549.080, 52.439 545.814, 57.664 547.774, 63.542 558.876, 73.991 545.161, 75.950 541.896, 96.196 549.733, 99.462 545.814, 139.954 548.427, 155.628 540.589, 180.446 555.611, 196.120 537.977, 247.061 517.731, 251.633 498.791, 265.348 490.301, 266.001 488.342, 268.614 482.464, 268.614 481.158, 269.267 478.545, 275.798 479.852, 273.838 475.933, 299.962 471.361, 326.086 456.993, 346.985 464.830, 348.944 470.708, 363.312 465.483, 363.312 473.974, 369.190 470.708, 373.109 478.545, 377.027 468.749, 405.111 482.464, 412.948 475.280, 422.091 513.159, 442.990 529.487, 450.174 522.956, 455.399 542.549, 459.318 553.651, 483.482 560.182, 490.013 580.428, 486.748 583.041, 503.075 590.225, 491.319 596.103, 490.013 600.021, 478.257 590.878, 474.339 602.634, 463.236 595.449, 459.971 601.980, 457.358 598.715, 452.787 608.511, 450.174 607.858, 451.480 604.593, 448.215 595.449, 436.459 604.593, 444.949 625.492, 442.337 635.288, 444.949 643.779, 436.459 649.003, 436.459 660.759, 427.969 668.596, 427.316 692.761, 417.519 692.761, 418.172 692.761, 414.907 697.332, 412.948 700.598, 417.519 701.251, 421.438 709.088, 451.480 709.741, 448.868 703.210, 461.277 699.945, 477.604 684.924, 502.422 697.332, 501.116 675.780, 500.463 678.393, 499.156 675.780, 493.278 677.740, 489.360 656.187, 487.401 648.350, 497.850 663.371, 504.381 645.085, 506.993 647.044, 505.687 639.860, 516.137 639.860, 522.015 633.982, 537.036 594.796, 533.770 586.959, 539.648 582.388, 536.383 568.019, 570.344 551.692, 568.385 536.018, 574.262 549.080, 582.099 545.161, 593.202 544.508, 591.243 528.834, 593.202 515.772, 597.121 516.425, 639.572 528.181, 631.082 535.365, 626.510 547.120, 591.896 551.039, 576.875 552.998, 589.937 562.142, 590.590 556.264, 603.652 556.264, 610.836 556.917, 600.386 572.591, 628.469 570.632, 630.429 576.510, 646.103 577.163, 658.512 567.366, 672.880 564.101, 672.880 559.529, 678.105 560.835, 682.676 551.692, 698.351 561.489, 704.881 549.733, 711.412 567.366, 719.903 564.754, 695.738 589.572, 689.860 588.265, 692.473 592.184, 678.105 604.593, 674.839 609.818, 676.798 612.430, 661.124 632.676, 687.901 628.104, 711.412 638.554, 729.699 637.248, 735.577 663.371, 742.761 676.433, 732.312 682.964, 747.333 686.883, 757.782 692.761, 804.805 636.595, 817.867 630.064, 825.704 632.023, 830.929 614.389, 839.419 606.552, 837.460 605.899, 841.378 595.449, 853.134 594.143, 863.584 599.368, 873.380 590.878, 883.830 589.572, 887.748 562.142, 893.626 547.774, 866.196 553.651, 861.624 566.060, 853.134 564.754, 849.869 560.182, 846.603 573.897, 835.501 582.388, 781.947 542.549, 772.150 522.956, 784.559 529.487, 801.540 487.689, 808.724 481.811, 815.255 467.443, 838.766 459.606, 840.072 457.646, 854.440 438.053, 866.849 445.237, 867.502 429.563, 883.177 411.277, 890.361 414.542, 896.239 391.684, 924.322 379.928, 928.240 384.500, 931.506 374.703, 931.506 374.703, 931.506 374.050, 930.853 360.335, 923.015 358.376"

ru2 = "-200.0 -200.0, 1300.0 -200.0, 1100.0 600.0, 1050.0 250.0, 900.0 300.0, 850.0 200.0, 750.0 400.0, 660.0 250.0, 250.0 100.0, 180.0 380.0, -200.0 200.0"
ru3 = "-317.391 -235.588, -51.270 -237.011, 1489.211 -250.242, 1251.454 67.062, 1470.524 245.893, 1278.482 462.384, 1097.629 600.104, 898.873 677.134, 739.997 554.536, 992.683 569.834, 1073.219 456.926, 823.828 345.825, 1088.004 235.066, 1036.068 24.649, 833.842 21.887, 792.006 203.214, 635.105 11.433, 557.930 157.913, 381.296 -120.870, 149.436 19.807, 168.440 144.442, 285.868 261.234, -21.307 244.834, 31.858 331.235, -325.765 283.575"
ru = "49.173 237.553, -121.294 102.634, -124.404 -185.052, 79.308 -195.937, 444.746 -188.162, 807.074 -195.937, 993.680 -180.386, 1258.040 -186.607, 1429.096 -160.171, 1513.069 -135.290, 1525.509 37.321, 1502.183 157.061, 1499.073 303.236, 1469.527 447.856, 1449.311 538.049, 1321.797 555.155, 1169.401 517.833, 1048.107 542.714, 936.143 550.489, 887.748 562.142, 967.244 475.847, 883.177 411.277, 768.197 335.892, 939.343 308.087, 1043.442 261.249, 969.385 190.530, 877.051 250.364, 892.320 131.752, 830.399 101.079, 730.876 118.184, 645.450 108.893, 609.582 188.162, 568.385 57.299, 575.370 15.551, 463.406 7.775, 419.865 65.312, 432.305 152.395, 362.006 174.856, 286.130 139.955, 267.469 245.699, 173.915 191.836, 144.620 250.364"


def initFormTable():
    half = default.unitSize / 2
    formTable["rectangle"] = shape.Rect(
        0, 0, default.unitSize, default.unitSize)
    formTable["circle"] = shape.Circle(half, half, half)
    p = polygon.Polygon.fromstr(man)
    formTable["man"] = p
    p = polygon.Polygon.fromstr(dancer)
    formTable["dancer"] = p
    p = polygon.Polygon.fromstr(ukraine)
    formTable["ukraine"] = p
    p = polygon.Polygon.fromstr(ukraine1)
    formTable["ukraine-blue"] = p
    p = polygon.Polygon.fromstr(ukraine2)
    formTable["ukraine-yellow"] = p
    p = polygon.Polygon.fromstr(ru)
    formTable["ru"] = p
    p = polygon.Polygon.fromstr(ru3)
    formTable["ru3"] = p


def makeGeneratorForm(r):
    t = r.get('type', 'rectangle')
    if t == 'rectangle':
        rw = value.read(r, "rangeW")
        rh = value.read(r, "rangeH")
        return shape.RectGenerator(rw, rh)
    if t == 'circle':
        rr = value.read(r, "rangeR")
        return shape.CircleGenerator(rr)
    if t == 'polygon':
        rar = value.readRange(r, "rangeR")
        rap = value.read(r, "rangePoints")
        return polygon.Generator(rar, rap)


def makeNewForm(r):
    t = r.get('type', 'rectangle')
    x = r.get("x", 0.0)
    y = r.get("y", 0.0)
    if t == 'rectangle':
        return shape.Rect(x, y, r.get("width", 10.0), r.get("height", 10.0))
    if t == 'circle':
        return shape.Circle(x, y, r.get("r", 10.0))
    if t == 'polygon':
        p = polygon.Polygon.fromstr(
            r.get("points", "0.0 0.0, 10.0 5.0, 5.0 10.0"))
        return p


def applyRecipe(recipe, base):
    for r in recipe:
        base = algo.applyAlgorithm(r, base)
    return base


def generateForm(f):
    if len(formTable) == 0:
        initFormTable()

    name = f.get('name')
    baseName = f['base']
    base = None
    if baseName == 'generator':
        base = makeGeneratorForm(f)
    elif baseName == 'new':
        base = makeNewForm(f)
    else:
        print("generating form {0} from {1}".format(name, baseName))
        base = formTable[baseName]
    newForm = applyRecipe(f.get('recipe', None), base)
    formTable[name] = newForm
